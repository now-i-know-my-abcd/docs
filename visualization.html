
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Visualization tips &#8212; Now I Know My ABCD</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Big book of bugs" href="bug-reference.html" />
    <link rel="prev" title="How to contribute" href="contributing.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Now I Know My ABCD</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Now I Know My ABCD
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  General info
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="user-manual.html">
   User Manual
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="starting.html">
   Getting Started with ABCD
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="discussion.html">
   ABCD Discussion Board
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="resources.html">
   Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="contributing.html">
   How to contribute
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Methods tutorials
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Visualization tips
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bug-reference.html">
   Big book of bugs
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ABCD on Twitter
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="recent_tweets.html">
   Recent ABCD Relevant Tweets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="old_tweets.html">
   Relevant ABCD Tweets Since 2015-01-01
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/visualization.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fvisualization.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/visualization.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="_sources/visualization.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#many-correlations">
   Many correlations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploratory-visualization">
     Exploratory visualization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualization-on-the-brain">
     Visualization on the brain
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Visualization tips</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#many-correlations">
   Many correlations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploratory-visualization">
     Exploratory visualization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualization-on-the-brain">
     Visualization on the brain
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="visualization-tips">
<h1>Visualization tips<a class="headerlink" href="#visualization-tips" title="Permalink to this headline">#</a></h1>
<section id="many-correlations">
<h2>Many correlations<a class="headerlink" href="#many-correlations" title="Permalink to this headline">#</a></h2>
<section id="exploratory-visualization">
<h3>Exploratory visualization<a class="headerlink" href="#exploratory-visualization" title="Permalink to this headline">#</a></h3>
<p>You may be exploring correlations between brain statistics, between behavioral/clinical correlates, or across brain and behavior. With each brain statistic being calculated across many different ROIs, and with many behavioral correlates, you can generate scatterplots in <em>small multiples</em> in order to see the range of correlations as efficiently as possible.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">R</label><div class="tab-content docutils">
<p><a class="reference external" href="https://ggobi.github.io/ggally/articles/ggpairs.html"><code class="docutils literal notranslate"><span class="pre">ggpairs()</span></code></a> from the <code class="docutils literal notranslate"><span class="pre">GGally</span></code> package will produce a flexible scatterplot matrix for exploratory visual data analysis. The plot is a <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> object under the hood, so you can modify <code class="docutils literal notranslate"><span class="pre">theme()</span></code> elements. However, <code class="docutils literal notranslate"><span class="pre">GGally</span></code> plot matrix objects don’t behave exactly like single ggplots, so the syntax for modifying other plot aesthetics is slightly different.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">GGally</span><span class="p">)</span>

<span class="n">data</span> <span class="o">%&gt;%</span> 
  <span class="c1"># ggpairs() can drop columns from the scatterplot matrix, but not by name</span>
  <span class="nf">select</span><span class="p">(</span><span class="o">-</span><span class="n">src_subject_id</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="nf">ggpairs</span><span class="p">(</span><span class="n">lower</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">continuous</span> <span class="o">=</span> <span class="nf">wrap</span><span class="p">(</span><span class="s">&quot;points&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.1</span><span class="p">)))</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/r_ggally_pairs.png" src="_images/r_ggally_pairs.png" />
</figure>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">Python</label><div class="tab-content docutils">
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.pairplot.html"><code class="docutils literal notranslate"><span class="pre">pairplot()</span></code></a> from the <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> package will produce a flexible scatterplot matrix for exploratory visual data analysis. The plot is a <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> object under the hood, and can be manipulated as such.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/py_seaborn_pairs.png" src="_images/py_seaborn_pairs.png" />
</figure>
</div>
</div>
</section>
<section id="visualization-on-the-brain">
<h3>Visualization on the brain<a class="headerlink" href="#visualization-on-the-brain" title="Permalink to this headline">#</a></h3>
<p>If you have already selected your behavioral/clinical correlate of interest, you may wish to show how it correlates with brain statistics across different ROIs. You can plot the brain-behavior correlation values as a statmap across the brain’s surface, if you have mappings to from your ROIs to surface visualizations.</p>
<p>The examples below are shown (unless otherwise indicated) for plotting ROI-wise statistics using the <a class="reference external" href="https://sites.wustl.edu/petersenschlaggarlab/parcels-19cwpgu/">Gordon et al. (2016) resting-state functional connectivity parcellation</a>.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">R</label><div class="tab-content docutils">
<p>The <a class="reference external" href="https://ggseg.github.io/ggseg/index.html"><code class="docutils literal notranslate"><span class="pre">ggseg</span></code></a> R package uses <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> under the hood to plot pre-rendered 2D shape-file brain atlases and color individual regions by statistics of interest. The base package only comes with a couple default FreeSurfer atlases, but the <a class="reference external" href="https://github.com/ggseg/ggsegGordon"><code class="docutils literal notranslate"><span class="pre">ggsegGordon</span></code></a> helper package contains a compatible map of the Gordon parcellation.</p>
<p>Note that because <code class="docutils literal notranslate"><span class="pre">ggseg</span> <span class="pre">&lt;=</span> <span class="pre">1.6.5</span></code> relies on static parcellation maps that were only rendered from lateral and medial views, you cannot easily render quick 2D views of, say, the ventral surface of the cortex.</p>
<p><code class="docutils literal notranslate"><span class="pre">ggseg</span></code> is optimized for ROI-based visualization, not vertex- or voxel-wise. It stores its atlases as tibbles/dataframes with one row per region. You can <code class="docutils literal notranslate"><span class="pre">join</span></code> a dataframe of ROI-wise statistics onto the atlas dataframe, and then plot the augmented atlas dataframe with your statistic of interest mapped to <code class="docutils literal notranslate"><span class="pre">aes(fill</span> <span class="pre">=</span> <span class="pre">my_statistic)</span></code>. You can bind on whatever ROI-wise statistics you have, as long as the parcel names in your data line up with the parcel names in the <code class="docutils literal notranslate"><span class="pre">ggsegGordon</span></code> atlas dataframe. If certain ROIs appear to be missing data when you plot, you may need to do some light string manipulation to harmonize any misaligned parcel names.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">ggseg</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">ggsegGordon</span><span class="p">)</span>

<span class="n">gordon</span> <span class="o">%&gt;%</span> 
  <span class="nf">as_tibble</span><span class="p">()</span> <span class="o">%&gt;%</span> 
  <span class="nf">left_join</span><span class="p">(</span><span class="n">roi_data</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&quot;annot&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="nf">ggplot</span><span class="p">()</span> <span class="o">+</span> 
  <span class="nf">geom_brain</span><span class="p">(</span><span class="n">atlas</span> <span class="o">=</span> <span class="n">gordon</span><span class="p">,</span> 
             <span class="n">mapping</span> <span class="o">=</span> <span class="nf">aes</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="n">statistic</span><span class="p">),</span> 
             <span class="n">position</span> <span class="o">=</span> <span class="nf">position_brain</span><span class="p">(</span><span class="n">hemi</span> <span class="o">~</span> <span class="n">side</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">scale_fill_gradient2</span><span class="p">(</span><span class="n">low</span> <span class="o">=</span> <span class="s">&quot;#68BCD6&quot;</span><span class="p">,</span>
                       <span class="n">high</span> <span class="o">=</span> <span class="s">&quot;#CE84AD&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="s">&quot;simulated\nstatistic&quot;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/r_ggseg_brain.png" src="_images/r_ggseg_brain.png" />
</figure>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">Python</label><div class="tab-content docutils">
<p>The <code class="docutils literal notranslate"><span class="pre">nilearn.plotting</span></code> library uses <code class="docutils literal notranslate"><span class="pre">plotly</span></code> and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> under the hood to plot snapshots of 3D cortical surface visualizations. <code class="docutils literal notranslate"><span class="pre">nilearn.datasets</span></code> comes with a number of atlases; however, the Gordon atlas has not yet been implemented natively <a class="footnote-reference brackets" href="#footnote1" id="id1">1</a>. You can either import the atlas yourself as a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array of ROI codes (one per each surface vertex) or use an alternative atlas that has already been implemented. The example below plots simulated ROI-wise statistics for each parcel in the <a class="reference external" href="https://nilearn.github.io/stable/modules/generated/nilearn.datasets.fetch_atlas_surf_destrieux.html?highlight=destrieux#nilearn.datasets.fetch_atlas_surf_destrieux">Destrieux surface atlas</a>.</p>
<p>Because <code class="docutils literal notranslate"><span class="pre">nilearn.plotting</span></code> uses <code class="docutils literal notranslate"><span class="pre">plotly</span></code> under the hood to flexibly snapshot the underlying brain model each time a plot is called, it supports all six canonical hemisphere views: medial, lateral, dorsal, ventral, anterior, and posterior. However, it can only render one hemisphere/view at a time.</p>
<p><code class="docutils literal notranslate"><span class="pre">nilearn.plotting</span></code> surface plots are optimized for vertex-wise visualization. <code class="docutils literal notranslate"><span class="pre">nilearn</span></code> stores atlases as 1D arrays with one row per vertex. Each row’s value is that ROI’s integer code, and all indices with the same code value thus belong to the same ROI. You can plot any array of stat values as long as the array has the same dimensions as the atlas. If you have a list or <code class="docutils literal notranslate"><span class="pre">pandas</span></code> dataframe column of one stat values for each atlas ROI label, you will need to iterate through the <em>atlas array of vertices,</em> fetching the relevant stat value for each vertex.</p>
<p>Once you have that, you can plot stat values on the surface! Use <a class="reference external" href="https://nilearn.github.io/stable/modules/generated/nilearn.plotting.plot_surf_stat_map.html#nilearn.plotting.plot_surf_stat_map"><code class="docutils literal notranslate"><span class="pre">plot_surf_stat_map()</span></code></a>, which will vary color with your statistic of interest if it’s fed into the <code class="docutils literal notranslate"><span class="pre">stat_map</span></code> argument. While it sounds like what you want, don’t use <code class="docutils literal notranslate"><span class="pre">plot_surf_roi()</span></code> for this because that function is designed for plotting arbitrary categorical colors to ROI definition atlases.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">plotting</span><span class="p">,</span> <span class="n">surface</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">seaborn</span> <span class="kn">import</span> <span class="n">diverging_palette</span>

<span class="c1"># Retrieve destrieux parcellation in fsaverage5 space from nilearn</span>
<span class="n">destrieux_atlas</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">fetch_atlas_surf_destrieux</span><span class="p">()</span>

<span class="c1"># The parcellation is already loaded into memory</span>
<span class="n">parcellation</span> <span class="o">=</span> <span class="n">destrieux_atlas</span><span class="p">[</span><span class="s1">&#39;map_left&#39;</span><span class="p">]</span>

<span class="c1"># Retrieve fsaverage5 surface dataset for the plotting background. It contains</span>
<span class="c1"># the surface template as pial and inflated version and a sulcal depth maps</span>
<span class="c1"># which is used for shading</span>
<span class="n">fsaverage</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">fetch_surf_fsaverage</span><span class="p">()</span>

<span class="c1"># While it&#39;s not necessary to reformat atlas vertices as a dataframe, it&#39;s nice</span>
<span class="n">destrieux_df_left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;roi_val&#39;</span><span class="p">:</span> <span class="n">destrieux_atlas</span><span class="o">.</span><span class="n">map_left</span><span class="p">})</span>

<span class="n">destrieux_df_left</span><span class="p">[</span><span class="s1">&#39;roi_label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">destrieux_atlas</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">destrieux_df_left</span><span class="p">[</span><span class="s1">&#39;roi_val&#39;</span><span class="p">]]</span>

<span class="c1"># Simulated statistics for each atlas ROI</span>
<span class="n">sim_stats</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">destrieux_atlas</span><span class="o">.</span><span class="n">labels</span><span class="p">))]</span>

<span class="n">destrieux_df_left</span><span class="p">[</span><span class="s1">&#39;sim_stat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">sim_stats</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">destrieux_df_left</span><span class="p">[</span><span class="s1">&#39;roi_val&#39;</span><span class="p">]]</span>

<span class="n">plotting</span><span class="o">.</span><span class="n">plot_surf_stat_map</span><span class="p">(</span><span class="n">fsaverage</span><span class="p">[</span><span class="s1">&#39;infl_left&#39;</span><span class="p">],</span>
                                <span class="n">stat_map</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">destrieux_df_left</span><span class="p">[</span><span class="s1">&#39;sim_stat&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span>
                                <span class="n">hemi</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="s1">&#39;lateral&#39;</span><span class="p">,</span>
                                <span class="c1"># Use seaborn&#39;s helper function for diverging gradient colormap</span>
                                <span class="n">cmap</span> <span class="o">=</span> <span class="n">diverging_palette</span><span class="p">(</span><span class="mi">194</span><span class="p">,</span> <span class="mi">327</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">64</span><span class="p">,</span> <span class="n">as_cmap</span> <span class="o">=</span> <span class="kc">True</span><span class="p">),</span>
                                <span class="n">bg_map</span><span class="o">=</span><span class="n">fsaverage</span><span class="p">[</span><span class="s1">&#39;sulc_left&#39;</span><span class="p">],</span> <span class="n">bg_on_data</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">darkness</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/py_nilearn_leftlateral.png" src="_images/py_nilearn_leftlateral.png" />
</figure>
</div>
</div>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="footnote1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The Gordon atlas has been requested for addition into <code class="docutils literal notranslate"><span class="pre">nilearn.datasets</span></code>, but has not yet been implemented pending larger decisions for how to add new atlases into the library. <a class="reference external" href="https://github.com/nilearn/nilearn/issues/1167">https://github.com/nilearn/nilearn/issues/1167</a></p>
</dd>
</dl>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="contributing.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">How to contribute</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="bug-reference.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Big book of bugs</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Sana Ali, Clare McCann, Monica Thieu, Lucy Whitmore<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>